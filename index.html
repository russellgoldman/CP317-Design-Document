<!DOCTYPE html>
<html>
  <head>
    <title>CP317 Design Document</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="./favicon.png">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="jumbotron">
      <div class="container text-center">
        <h1 id="title">
          <b>Beer Buddy Design Document</b>
        </h1>
        <a href="https://github.com/russellgoldman/CP317-Beer-Finder" target="_blank">
          <h4><u>v0.4</u></h4>
        </a>
        <br /><br />
        <h4><b>Designed by:</b><h6>CP317 Software Engineering Students</h6></h4>
        <h4><b>Date Started:</b><h6>May 5th, 2018</h6></h4>
        <h4><b>Date Completed:</b><h6>August 3rd, 2018 <i>(Expected)</h6></i>
      </div>
    </div>
    <div class="container-fluid information">
      <div class="row content">
        <div class="col-sm-1 col-md-1 col-lg-3"></div>
        <div class="col-sm-10 col-md-10 col-lg-6">
          <br />
          <div>
            <h1>
              <span class="subsection">1.</span>
              Introduction
            </h1>
            <hr>
            <br />
            <div>
              <h4>
                <span class="subsection"><b><u>1.1</u></b></span>
                The Purpose of the Document
              </h4>
              <p></p>
              <p>
                The purpose of this document is to make a comprehensive design of how the Beer Buddy app will work on both the front end and the back end. This will draw an approximate picture of the connections among both ends and interfaces.
              </p>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>1.2</u></b></span>
                The Scope of the Document
              </h4>
              <p></p>
              <p>
                This document is aimed at developers involved in the development of the application.
              </p>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>1.3</u></b></span>
                Overview of the Application
              </h4>
              <p></p>
              <p>
                Users will be greeted by a screen giving them an option to select their beer drinking experience being either novice or experienced. Experienced drinkers will be redirected to filter options such as beer colour, alcohol percentage, country of origin, and availability in can/bottle/keg. They will then receive a list of beers that match their filters ranging from most-alike to least-alike. Novice drinkers will be redirected to a page of top picks from beer types such as lagers, malts, stouts, and ales. Top picks will be referenced from the backend database.
              </p>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>1.4</u></b></span>
                References
              </h4>
              <p></p>
              <p></p>
              <ul>
                <li>
                  <a href="https://russellgoldman.github.io/CP317-Requirements-Document/"
                    style="color: #1759c4; font-size: 18px;" target="_blank">
                    Requirements Document
                  </a>
                </li>
                <li>
                  <a href="https://russellgoldman.github.io/CP317-Analysis-Document/"
                    style="color: #1759c4; font-size: 18px;" target="_blank">
                    Analysis Document
                  </a>
                </li>
              </ul>
              <br />
            </div>
          </div>
          <br />
          <div>
            <h1>
              <span class="subsection">2.</span>
              Core Structures
            </h1>
            <hr>
            <br />
            <div>
              <h4>
                <span class="subsection"><b><u>2.1</u></b></span>
                Application Programming Interface (API)
              </h4>
              <p></p>
              <p>
                Front-end and back-end are to be separated and interaction with the application will only be done so through front-end calls to the back-end Application Programming Interface (API). The front-end is composed of two pages including an introduction page to allow the user to select the novice or experienced drinkers edition of the BeerBuddy application. The novice edition will offer less advanced features whereas the experience version will use more complex language and offer more versatility in the user’s experience. All of this is effectively powered by the backend API of the application, which coordinates data transfer between the client and the server.
              </p>
              <br />
            </div>
          </div>
          <br />
          <div>
            <h1>
              <span class="subsection">3.</span>
              Data Design
            </h1>
            <hr>
            <br />
            <div>
              <h4>
                <span class="subsection"><b><u>3.1</u></b></span>
                Static Data
              </h4>
              <p></p>
              <p>
                Fields such as brand, color, and other permanent attributes of each beer will be immutable.
              </p>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>3.2</u></b></span>
                Dynamic Data
              </h4>
              <p></p>
              <p>
                Data such as price, location, etc. will be mutable.
              </p>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>3.3</u></b></span>
                Reused Data
              </h4>
              <p></p>
              <p>
                Fields such as brand, color, etc. which are qualitative and are shared by multiple beer objects will be reused and instead have beer objects added to a list. Other fields such as beer name and prices will not be objects and will not be reused. Instead, they will be instantiated with the beer object.
              </p>
              <br />
            </div>
          </div>
          <br />
          <div>
            <h1>
              <span class="subsection">4.</span>
              User Interface Design
            </h1>
            <hr />
            <br />
            <div>
              <h4>
                <span class="subsection"><b><u>4.1</u></b></span>
                Overview
              </h4>
              <p></p>
              <p>
                The user interface consists of the landing page, filters page, resulted query page, individual beer viewing pages with beer ratings.
              </p>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>4.2</u></b></span>
                Navigation
              </h4>
              <p></p>
              <p>
                The navigation of the page is achieved by providing a responsive navigation bar at the top of every page. The navigation bar is based of components provided by bootstrap.
              </p>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>4.3</u></b></span>
                The Landing Page
              </h4>
              <p></p>
              <p>
                The page will have a navigation bar and two buttons to choose from. Novice user or experienced users. Users will have a chance to read about us and contact us. They will also have a chance to login if they had an existing account. This will be achieved through the navigation bar at the top of every page.
              </p>
              <br />
              <div class="text-center centeredImage">
                <img src="./images/landingPage.jpg" class="img-responsive" alt="landingPage">
              </div>
              <br />
              <table class="table">
                <thead>
                  <tr style="background-color: orange; color: black; font-weight: bold; font-size: 20px;">
                    <th scope="col">#</td>
                    <th scope="col">Field</td>
                    <th scope="col">Type</td>
                    <th scope="col">Description</td>
                  </tr>
                </thead>
                <tbody>
                  <tr style="color: black; font-size: 17px;">
                    <th scope="row">1</td>
                    <td>Novice</td>
                    <td>Input Control</td>
                    <td>Links to the main page for novice users</td>
                  </tr>
                  <tr style="color: black; font-size: 17px;">
                    <th scope="row">2</td>
                    <td>Experienced</td>
                    <td>Input Control</td>
                    <td>Links to the main page for experienced users</td>
                  </tr>
                </tbody>
              </table>
              <br />
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>4.4</u></b></span>
                The Filters Page
              </h4>
              <p></p>
              <p>
                The page lets the users search for beer by selecting the type, color and country of the beer.
              </p>
              <br />
              <div class="text-center centeredImage">
                <img src="./images/filtersPage.jpg" class="img-responsive" alt="filtersPage">
              </div>
              <br />
              <table class="table">
                <thead>
                  <tr style="background-color: orange; color: black; font-weight: bold; font-size: 20px;">
                    <th scope="col">#</td>
                    <th scope="col">Field</td>
                    <th scope="col">Type</td>
                    <th scope="col">Description</td>
                  </tr>
                </thead>
                <tbody>
                  <tr style="color: black; font-size: 17px;">
                    <th scope="row">1</td>
                    <td>Search</td>
                    <td>Navigational component</td>
                    <td>Lets the user search for selected beer.</td>
                  </tr>
                  <tr style="color: black; font-size: 17px;">
                    <th scope="row">2</td>
                    <td>Type</td>
                    <td>Input Control</td>
                    <td>Lets the user select the type of beer</td>
                  </tr>
                  <tr style="color: black; font-size: 17px;">
                    <th scope="row">3</td>
                    <td>Colour</td>
                    <td>Input Control</td>
                    <td>Lets the user select the colour of the beer</td>
                  </tr>
                  <tr style="color: black; font-size: 17px;">
                    <th scope="row">4</td>
                    <td>Country</td>
                    <td>Input Control</td>
                    <td>Lets the user select the country of origin</td>
                  </tr>
                </tbody>
              </table>
              <br />
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>4.5</u></b></span>
                The Add Beer Page
              </h4>
              <p></p>
              <p>
                The page will have a form to input information about the beer the user wants to submit.
              </p>
              <br />
              <div class="text-center centeredImage">
                <img src="./images/addBeerPage.jpg" class="img-responsive" alt="addBeerPage">
              </div>
              <br />
              <table class="table">
                <thead>
                  <tr style="background-color: orange; color: black; font-weight: bold; font-size: 20px;">
                    <th scope="col">#</td>
                    <th scope="col">Field</td>
                    <th scope="col">Type</td>
                    <th scope="col">Description</td>
                  </tr>
                </thead>
                <tr style="color: black; font-size: 17px;">
                  <th scope="row">1</td>
                  <td>Submit</td>
                  <td>Navigational component</td>
                  <td>Lets the user search for selected beer.</td>
                </tr>
                <tr style="color: black; font-size: 17px;">
                  <th scope="row">2</td>
                  <td>Name</td>
                  <td>Input Control</td>
                  <td>Text field to input beer name</td>
                </tr>
                <tr style="color: black; font-size: 17px;">
                  <th scope="row">3</td>
                  <td>Type</td>
                  <td>Input Control</td>
                  <td>Lets user select type of beer</td>
                </tr>
                <tr style="color: black; font-size: 17px;">
                  <th scope="row">4</td>
                  <td>Country</td>
                  <td>Input Control</td>
                  <td>Lets the user select the country of origin</td>
                </tr>
                <tr style="color: black; font-size: 17px;">
                  <th scope="row">5</td>
                  <td>Acl</td>
                  <td>Input Control</td>
                  <td>Text field for user to input acl percentage</td>
                </tr>
                <tr style="color: black; font-size: 17px;">
                  <th scope="row">6</td>
                  <td>Details</td>
                  <td>Input Control</td>
                  <td>Text box to input further description of the beer.</td>
                </tr>
              </table>
              <br />
              <br />
            </div>
          </div>
          <div>
            <h1>
              <span class="subsection">5.</span>
              Functionality
            </h1>
            <hr>
            <br />
            <div>
              <h4>
                <span class="subsection"><b><u>5.1</u></b></span>
                Search
              </h4>
              <p></p>
              <ul>
                <li>
                  User will be able to search for beers through filters such as color and brand
                </li>
                <li>
                  User can search through keywords which will match through description and stringified categories
                </li>
              </ul>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>5.2</u></b></span>
                Display
              </h4>
              <p></p>
              <ul>
                <li>
                  User will be able to see a webpage for each beer which contains information about the beer such as color and brand
                </li>
              </ul>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>5.3</u></b></span>
                Add/Edit Beer
              </h4>
              <p></p>
              <ul>
                <li>
                  User will be able to add beers to the database through an undetermined system as of now
                </li>
                <li>
                  User will be able to edit the description and categories of existing beers
                </li>
              </ul>
              <br />
            </div>
          </div>
          <br />
          <div>
            <h1>
              <span class="subsection">6.</span>
              Documentation
            </h1>
            <hr>
            <br />
            <div>
              <h4>
                <span class="subsection"><b><u>6.1</u></b></span>
                Front-end Languages
              </h4>
              <p></p>
              <ul>
                <li>HTML</li>
                <li>CSS</li>
                <li>JavaScript</li>
              </ul>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>6.2</u></b></span>
                Front-end Libraries
              </h4>
              <p></p>
              <ul>
                <li>
                  Bootstrap
                  <ul>
                    <li>
                      Our web application is made using <b>Twitter Bootstrap</b>. This enables our app to have responsive design implementation. It is a free open-source framework that enhances the design of web applications.
                    </li>
                  </ul>
                </li>
              </ul>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>6.3</u></b></span>
                Back-end Languages
              </h4>
              <p></p>
              <ul>
                <li>Python</li>
              </ul>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>6.4</u></b></span>
                Back-end Libraries
              </h4>
              <p></p>
              <ul>
                <li>Django</li>
                <li>Django REST Framework <i>or</i> Flask</li>
              </ul>
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>6.5</u></b></span>
                Back-end UML
              </h4>
              <br />
              <div class="text-center centeredImage">
                <img src="./images/backendUML.png" class="img-responsive" alt="backendUML">
              </div>
              <br />
              <br />
            </div>
            <div>
              <h4>
                <span class="subsection"><b><u>6.6</u></b></span>
                Back-end Route Dictionary
              </h4>
              <br />
              <table class="table">
                <tr style="background-color: orange; color: black; font-weight: bold; font-size: 20px;">
                  <td>Name + Method Type</td>
                  <td>Parameters + Return Type</td>
                  <td>Description</td>
                </tr>
                <tr style="color: black; font-size: 17px;">
                  <td>
                    <b>Name:</b>
                    <br />
                    GET /filteredBeer
                    <br />
                    <br />
                    <b>Type:</b>
                    <br />
                    API Route
                  </td>
                  <td>
                    <b>Parameters:</b>
                    <br />
                    userDefinedFilters (Dictionary Object)
                    <br />
                    <br />
                    <b>Return Type:</b>
                    <br />
                    Dictionary Object + 200 OK Status / 404 Not Found Status
                  </td>
                  <td>
                    The frontend sends a GET request to the backend with the user defined filters as a dictionary object.
                    <br />
                    <br />
                    The backend then uses the given dictionary object to compare all the beers and in the callback function, it either returns a query in descending order containing the beers most similar to the user defined filters (200), or returns an error message (404).
                    <br />
                    <br />
                    Finally, the backend returns a new dictionary object containing the queried beers and how closely they resembled the filters (0 - 100% matching score as a key/value pair) and their respective data (the 200 OK status) or the error message (the 404 Not Found status) if something went wrong. The 200 status OK data will then be used to serve the individual beer viewing pages.
                  </td>
                </tr>
                <tr style="color: black; font-size: 17px;">
                  <td>
                    <b>Name:</b>
                    <br />
                    POST /anonymousRating
                    <br />
                    <br />
                    <b>Type:</b>
                    <br />
                    API Route
                  </td>
                  <td>
                    <b>Parameters:</b>
                    <br />
                    anonUserName (String), beerName (String), message String), rating (Integer; 0-5)
                    <br />
                    <br />
                    <b>Return Type:</b>
                    <br />
                    200 OK Status / 400 Bad Request Status
                  </td>
                  <td>
                    The frontend sends a POST request to the backend containing a dictionary object with the anonymous user's name (String), the beer name (String), the rating message (String), and the rating from 0-5 (Integer) as a parameter.
                    <br />
                    <br />
                    The backend receives the dictionary object, checks that see that the comment is not a complete duplicate, and then either writes the data to the database (200) or does not (400).
                    <br />
                    <br />
                    The backend then returns the status of the request back to the user (200 for status OK, and 400 for bad request).
                  </td>
                </tr>
                <tr style="color: black; font-size: 17px;">
                  <td>
                    <b>Name:</b>
                    <br />
                    GET /filters
                    <br />
                    <br />
                    <b>Type:</b>
                    <br />
                    API Route
                  </td>
                  <td>
                    <b>Parameters:</b>
                    <br />
                    userType (String; “novice” or “experienced”)
                    <br />
                    <br />
                    <b>Return Type:</b>
                    <br />
                    Dictionary Object + 200 OK Status / 404 Not Found Request Status
                  </td>
                  <td>
                    The frontend sends a GET request to the backend to fetch all novice/experienced user filters (classified by the userType parameter) for display (just in case they need to be updated over time).
                    <br />
                    <br />
                    The backend receives the request and queries a table in the database containing filter objects with the following JSON format...
                    <br />
                    <br />
                    <span style="font-family: Courier;">
                    {
                    <br />
                      <p style="text-indent: 30px; margin: 0;">_id: auto-generated Integer,</p>
                      <p style="text-indent: 30px; margin: 0;">filter_name: String,</p>
                      <p style="text-indent: 30px; margin: 0;">filter_options: [option1, option2, etc] (String Array)</p>
                    }
                    </span>
                    <br />
                    <br />
                    The backend then returns the status of the request back to the user (200 for status OK, and 400 for bad request).
                  </td>
                </tr>
                <tr style="color: black; font-size: 17px;">
                  <td>
                    <b>Name:</b>
                    <br />
                    GET /beerRatings
                    <br />
                    <br />
                    <b>Type:</b>
                    <br />
                    API Route
                  </td>
                  <td>
                    <b>Parameters:</b>
                    <br />
                    beerName (String)
                    <br />
                    <br />
                    <b>Return Type:</b>
                    <br />
                    Dictionary Object + 200 OK Status / 404 Not Found Request Status
                  </td>
                  <td>
                    The frontend sends a GET request to the backend to fetch the ratings for the currently viewed beer based on its name.
                    <br />
                    <br />
                    The backend receives the request and queries a table in the database containing all the ratings for all beers and returns all beer rating objects for the beer in question in an array of beer rating dictionary objects.
                    <br />
                    <br />
                    If the beer ratings are found, a 200 OK status is sent back to the user along with the beer ratings in a dictionary object, or if something goes wrong, then a 404 Not Found status.
                  </td>
                </tr>
              </table>
              <br />
            </div>
          </div>
          <br />
          <div>
            <h1>
              <span class="subsection">7.</span>
              Contributors
            </h1>
            <hr>
            <p></p>
            <p></p>
            <div>
              <ul>
                <li>Abdisalan Mohamed Abdi</li>
                <li>Abdullahi Abdullahi</li>
                <li>Franchesco Livado</li>
                <li>Weng Tang</li>
                <li>
                  Russell Goldman
                  <ul>
                    <li>Back-end Routes UML / Descriptions</li>
                    <li>Design Document Bootstrap Site</li>
                  </ul>
                </li>
                <li>Matthew Wong</li>
              </ul>
              <br />
            </div>
          </div>
          <br />
          <div>
            <h1>
              <span class="subsection">8.</span>
              Versions
            </h1>
            <hr>
            <div>
              <ul>
                <li>
                  <p style="font-size: 20px;">v0.4 July 5th, 2018</p>
                </li>
              </ul>
              <br />
              <br />
            </div>
          </div>
        </div>
        <div class="col-sm-1 col-md-1 col-lg-3"></div>
      </div>
    </div>
  </body>
</html>
